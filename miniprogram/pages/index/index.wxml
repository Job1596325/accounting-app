<!--pages/index/index.wxml-->
<view class="container">
  <view class="content">
    <!-- 统计卡片 -->
    <view class="grid grid-2">
      <view class="stat-card">
        <view class="stat-label">本月收入</view>
        <view class="stat-value">¥{{monthIncome}}</view>
      </view>
      <view class="stat-card expense">
        <view class="stat-label">本月支出</view>
        <view class="stat-value">¥{{monthExpense}}</view>
      </view>
      <view class="stat-card balance">
        <view class="stat-label">本月结余</view>
        <view class="stat-value">¥{{monthBalance}}</view>
      </view>
      <view class="stat-card income">
        <view class="stat-label">账户总资产</view>
        <view class="stat-value">¥{{totalAssets}}</view>
      </view>
    </view>

    <!-- 最近交易 -->
    <view class="card">
      <view class="card-title">最近交易</view>
      <block wx:if="{{recentTransactions.length === 0}}">
        <view class="empty-state">
          <view class="empty-title">暂无交易记录</view>
        </view>
      </block>
      <block wx:else>
        <view wx:for="{{recentTransactions}}" wx:key="id" class="list-item">
          <view class="list-icon">{{item.icon}}</view>
          <view class="list-info">
            <view class="list-title">{{item.categoryName}}</view>
            <view class="list-desc">{{item.date}}</view>
          </view>
          <view class="list-amount {{item.type}}">{{item.type === 'income' ? '+' : '-'}}¥{{item.amount}}</view>
        </view>
      </block>
    </view>

    <!-- 快速操作 -->
    <button class="btn btn-primary btn-block" bindtap="navigateTo" data-url="/pages/add/add">
      + 记一笔
    </button>
  </view>
</view>
